"use strict";function _createForOfIteratorHelper(r,o){var e="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!e){if(Array.isArray(r)||(e=_unsupportedIterableToArray(r))||o&&r&&"number"==typeof r.length){e&&(r=e);var t=0,n=function(){};return{s:n,n:function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}},e:function(r){throw r},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,i=!1;return{s:function(){e=e.call(r)},n:function(){var r=e.next();return a=r.done,r},e:function(r){i=!0,l=r},f:function(){try{a||null==e.return||e.return()}finally{if(i)throw l}}}}function _unsupportedIterableToArray(r,o){if(r){if("string"==typeof r)return _arrayLikeToArray(r,o);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(r,o):void 0}}function _arrayLikeToArray(r,o){(null==o||o>r.length)&&(o=r.length);for(var e=0,t=new Array(o);e<o;e++)t[e]=r[e];return t}function init(){$("select").select2({dropdownCssClass:"dropdown-inverse"}),$(".input-group").on("focus",".form-control",function(){return $(this).closest(".input-group, .form-group").addClass("focus")}).on("blur",".form-control",function(){return $(this).closest(".input-group, .form-group").removeClass("focus")}),$(".btn-group").on("click","a",function(){return $(this).siblings().removeClass("active").end().addClass("active")})}function doSearch(){var r=$("#mgf").val();$("#info, #loadErr, #complete, #rst").slideUp(100),$("#loading").slideDown(300),$("body, html").animate({scrollTop:$("#loading")[0].offsetTop-200},1e3),jQuery.post("/api/denovo",{mgf:r}).done(function(r){console.log(r);try{var o=JSON.parse(r.replaceAll("'",'"'));$("#pep").html(o.pep),$("#score").html(o.score);var e,t="[",n=_createForOfIteratorHelper(o.pscore);try{for(n.s();!(e=n.n()).done;){t+=e.value.toFixed(3)+", "}}catch(r){n.e(r)}finally{n.f()}$("#pscore").html(t+"]"),$("#info, #loadErr, #loading").slideUp(200),$("#rst, #complete").slideDown(400),$("body, html").animate({scrollTop:$("#complete")[0].offsetTop-200},1e3)}catch(r){console.log(r),$("#info, #loading, #complete, #rst").slideUp(200),$("#loadErr").slideDown(400),$("body, html").animate({scrollTop:$("#loadErr")[0].offsetTop-200},1e3)}}).fail(function(){$("#info, #loading, #complete, #rst").slideUp(200),$("#loadErr").slideDown(400),$("body, html").animate({scrollTop:$("#loadErr")[0].offsetTop-200},1e3)})}init(),$("#complete, #loading, #loadErr, #rst").removeClass("hidden").slideUp(0),$("#search").on("click",function(r){return doSearch()});